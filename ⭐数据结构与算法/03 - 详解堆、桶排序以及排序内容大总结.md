## 2025å¹´10æœˆ23æ—¥
## å †
> ç›¸å½“äºå®Œå…¨äºŒå‰æ ‘ã€‚

- å·¦å­©å­ï¼š`2 * i + 1`
- å³å­©å­ï¼š`2 * i + 2`
- çˆ¶äº²ï¼š`Math.trunc((i - 1) / 2)`
- å¤§æ ¹å †ï¼šå­æ ‘æœ€å¤§å€¼ = å¤´èŠ‚ç‚¹çš„å€¼
- å°æ ¹å †

## å †æ’åº
```js
    function swap(arr, a, b) {
      if (a == b) return;
      arr[a] = arr[a] ^ arr[b];
      arr[b] = arr[a] ^ arr[b];
      arr[a] = arr[a] ^ arr[b];
    }

    function heapInsert(arr, index) {
      let parent = Math.floor((index - 1) / 2);
      while (index > 0 && arr[index] > arr[parent]) {
        swap(arr, index, parent);
        index = parent;
        parent = Math.floor((index - 1) / 2);
      }
    }

    // å°†indexä¸ºæ ¹çš„å­æ ‘è°ƒæ•´æˆæœ€å¤§å †ï¼Œä½¿çˆ¶èŠ‚ç‚¹ä¸å°äºå­èŠ‚ç‚¹
    function heapify(arr, index, heapSize) {
      let leftChildIndex = index * 2 + 1;
      while (leftChildIndex < heapSize) {
        let largerChildIndex = leftChildIndex + 1 < heapSize && arr[leftChildIndex + 1] > arr[leftChildIndex] ? leftChildIndex + 1 : leftChildIndex;
        let largerIndex = arr[index] > arr[largerChildIndex] ? index : largerChildIndex;
        if (largerIndex == index) break;
        swap(arr, index, largerIndex);
        index = largerIndex;
        leftChildIndex = index * 2 + 1
      }
    }

    function heapSort(arr) {
      if (arr === null || arr.length < 2) return;
      for (let i = 0; i < arr.length; i++) {
        heapInsert(arr, i);
      }
      // è®©æ•´ä¸ªæ•°ç»„å˜æˆå¤§æ ¹å †å¯ä»¥æ¢æˆä»¥ä¸‹å½¢å¼ï¼Œåˆ©ç”¨é”™ä½ç›¸å‡ï¼Œè®¡ç®—å‡ºæ—¶é—´å¤æ‚åº¦O(N)
      // for (let i = arr.length - 1; i >= 0; i--) {
      //   heapify(arr, i, arr.length);
      // }
      let heapSize = arr.length;
      swap(arr, 0, --heapSize)
      while (heapSize > 0) {
        heapify(arr, 0, heapSize);
        swap(arr, 0, --heapSize);
      }
      return arr;
    }
```

### ã€é¢˜ç›®ã€‘é’ˆå¯¹ä¸€ä¸ªå…ƒç´ ç§»åŠ¨è·ç¦»ä¸è¶…è¿‡kçš„å‡ ä¹æœ‰åºæ•°ç»„ï¼Œé€‰æ‹©åˆé€‚çš„æ’åºç®—æ³•è¿›è¡Œæ’åºã€‚
- åˆ©ç”¨å°æ ¹å †

```js
function sortArrayDistanceLessK(arr, k) {
  const heap = [];
  let index = 0;
  for (; index < Math.min(arr.length, k); index++) {
    heap.push(arr[index]);
  }
  heap.sort((a, b) => a - b); // ç»´æŠ¤å‡åºï¼ˆæ¨¡æ‹Ÿå°æ ¹å †ï¼‰
  let i = 0;
  for (; index < arr.length; index++, i++) {
    heap.push(arr[index]);
    heap.sort((a, b) => a - b);
    arr[i] = heap.shift(); // shift() å¼¹å‡ºæœ€å°å€¼
  }
  while (heap.length > 0) {
    arr[i++] = heap.shift();
  }
  return arr;
}
```
## æ¯”è¾ƒå™¨
> æ¯”è¾ƒå™¨å¯ä»¥å¾ˆå¥½åœ°åº”ç”¨åœ¨æ ¹æ®ç‰¹æ®Šæ ‡å‡†æ’åºçš„ç»“æ„ä¸Šã€‚

## æ¡¶æ’åºæ€æƒ³ä¸‹çš„ä¸¤ç§æ’åº
### 1. è®¡æ•°æ’åº
### 2. åŸºæ•°æ’åº
```js
    function radixSort(arr) {
      if (arr === null || arr.length < 2) return;
      const maxDigit = Math.max(...arr).toString().length;
      const radix = 10;
      for (let d = 0; d < maxDigit; d++) {
        const bucket = [];
        const count = new Array(radix).fill(0);
        for (let i = 0; i < arr.length; i++) {
          const digit = getDigit(arr[i], d)
          count[digit]++;
        }
        // ä½¿å¾—count[i]æ˜¯iä¹‹å‰çš„è®¡æ•°æ€»å’Œ
        for (let i = 1; i < radix; i++) {
          count[i] += count[i - 1];
        }
        for (let i = arr.length - 1; i >= 0; i--) {
          const digit = getDigit(arr[i], d)
          bucket[count[digit] - 1] = arr[i];
          count[digit]--;
        }
        for (let i = 0; i < arr.length; i++) {
          arr[i] = bucket[i];
        }
        // arr.splice(0, arr.length, ...bucket);
      }
    }
    // å–å‡ºå¯¹åº”æ•°å­—åœ¨åè¿›åˆ¶ä¸‹çš„ä½æ•°çš„å€¼
    function getDigit(num, digit) {
      return Math.floor(num / Math.pow(10, digit)) % 10;
    }
```
- ç¬¬ä¸€å±‚åŸºæ•°æ’åºè§£é‡Šå›¾
![[c1c160baeffaf5bd1ed79cb52b8f0e86.jpg|300]]


## æ’åºå†…å®¹å¤§æ€»ç»“

### çŸ¥è¯†è¡¥å……
#### ç¨³å®šæ€§
> ç›¸åŒå…ƒç´ çš„ç›¸å¯¹æ¬¡åºä¸å˜ï¼Œè¿™å¯¹äºå¤šç±»å‹æ•°æ®æ’åºå¾ˆé‡è¦ã€‚

#### å¸¸è¯†
- æ²¡æœ‰åŸºäºæ¯”è¾ƒæ¡ä»¶ä¸‹çš„$O(N \log N)$çš„ç®—æ³•ã€‚
- æ²¡æœ‰$O(N\log N)$ã€ç©ºé—´å¤æ‚åº¦åœ¨$O(N)$ä»¥ä¸‹çš„ç®—æ³•èƒ½å¤Ÿä¿æŒç¨³å®šæ€§ã€‚
 
### æ€»ç»“è¡¨æ ¼

| æ’åº   | æ—¶é—´å¤æ‚åº¦         | ç©ºé—´å¤æ‚åº¦         | æ˜¯å¦å…·æœ‰ç¨³å®šæ€§          | ä¼˜åŠ¿ä»¥åŠä½¿ç”¨åœºæ™¯       |
| ---- | ------------- | ------------- | ---------------- | -------------- |
| é€‰æ‹©æ’åº | $O(N^2)$      | $O(1)$        | ğŸŸ¥ï¼Œåä¾‹`[3,3,1,3]` |                |
| å†’æ³¡æ’åº | $O(N^2)$      | $O(1)$        | ğŸŸ©               |                |
| æ’å…¥æ’åº | $O(N^2)$      | $O(1)$        | ğŸŸ©               | å¸¸æ•°é¡¹è¾ƒä½ï¼Œæ ·æœ¬é‡å°å¯ä»¥ä½¿ç”¨ |
| å½’å¹¶æ’åº | $O(N \log N)$ | $O(N)$        | ğŸŸ©               | å…·æœ‰ç¨³å®šæ€§          |
| å¿«é€Ÿæ’åº | $O(N \log N)$ | $O(N \log N)$ | ğŸŸ¥               | å¸¸æ•°é¡¹è¾ƒä½ï¼Œæœ€å¿«       |
| å †æ’åº  | $O(N \log N)$ | $O(1)$        | ğŸŸ¥               | ç©ºé—´å¤æ‚åº¦ä½         |


